# üéØ –ò—Ç–æ–≥–æ–≤–æ–µ —Ä–µ–∑—é–º–µ: –°–∏—Å—Ç–µ–º–∞ –∏—Å—Ö–æ–¥—è—â–∏—Ö Webhook'–æ–≤

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### üèóÔ∏è **–ü–æ–ª–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏—Å—Ö–æ–¥—è—â–∏—Ö webhook'–æ–≤**
- ‚úÖ `OutboundWebhookManager` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ–º–∏ webhook'–∞–º–∏
- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—á–µ—Ä–µ–¥—å —Å–æ–±—ã—Ç–∏–π —Å –≤–æ—Ä–∫–µ—Ä–æ–º
- ‚úÖ Retry –ª–æ–≥–∏–∫–∞ —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π
- ‚úÖ HMAC –ø–æ–¥–ø–∏—Å–∏ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã —Å–æ–±—ã—Ç–∏–π –∏–ª–∏ –≤—Å–µ (`*`)

### üåê **REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è**
```bash
# –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä CRUD –æ–ø–µ—Ä–∞—Ü–∏–π
GET    /api/admin/webhooks        # –°–ø–∏—Å–æ–∫ webhook'–æ–≤
POST   /api/admin/webhooks        # –°–æ–∑–¥–∞–Ω–∏–µ webhook'–∞
GET    /api/admin/webhooks/{id}   # –ü–æ–ª—É—á–µ–Ω–∏–µ webhook'–∞
PUT    /api/admin/webhooks/{id}   # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ webhook'–∞  
DELETE /api/admin/webhooks/{id}   # –£–¥–∞–ª–µ–Ω–∏–µ webhook'–∞
POST   /api/admin/webhooks/{id}/test  # –¢–µ—Å—Ç webhook'–∞
GET    /api/admin/webhooks/events     # –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
POST   /api/admin/events/send         # –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è
```

### üìã **19 —Ç–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π**
**–°–µ—Ä–≤–µ—Ä**: `server.started`, `server.stopped`, `server.error`, `server.high_cpu`, `server.high_memory`, `server.low_tps`

**–ò–≥—Ä–æ–∫–∏**: `player.joined`, `player.left`, `player.banned`, `player.kicked`

**–ê–Ω—Ç–∏—á–∏—Ç**: `anticheat.violation`, `anticheat.ban`

**–ú–∏—Ä**: `world.saved`, `world.load_error`

**–°–∏—Å—Ç–µ–º–∞**: `chat.message`, `admin.command`, `security.alert`, `backup.completed`, `backup.failed`

### üîÑ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–º—É–ª—è—Ü–∏—è**
- ‚úÖ –°–ª—É—á–∞–π–Ω—ã–µ –∏–≥—Ä–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- ‚úÖ –°–æ–±—ã—Ç–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è/–æ—Ç–∫–ª—é—á–µ–Ω–∏—è –∏–≥—Ä–æ–∫–æ–≤
- ‚úÖ –ù–∞—Ä—É—à–µ–Ω–∏—è –∞–Ω—Ç–∏—á–∏—Ç–∞ —Ä–∞–∑–ª–∏—á–Ω–æ–π —Å–µ—Ä—å–µ–∑–Ω–æ—Å—Ç–∏  
- ‚úÖ –ê–ª–µ—Ä—Ç—ã –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ –°–æ–±—ã—Ç–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –º–∏—Ä–∞

### üß™ **–¢–µ—Å—Ç–æ–≤—ã–π –ø—Ä–∏–µ–º–Ω–∏–∫ webhook'–æ–≤**
- ‚úÖ –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª—É—á–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ HMAC –ø–æ–¥–ø–∏—Å–µ–π
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π –≤—ã–≤–æ–¥ —Å —ç–º–æ–¥–∑–∏

## üéÆ **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

### 1Ô∏è‚É£ **–°–æ–∑–¥–∞–Ω–Ω—ã–µ webhook'–∏**:
```json
{
  "id": 1,
  "name": "Universal Monitor",
  "url": "http://localhost:3000/webhook", 
  "events": ["*"],
  "failure_count": 0
}

{
  "id": 2, 
  "name": "Critical Events",
  "url": "http://localhost:3000/webhooks/server",
  "events": ["server.error", "anticheat.ban", "security.alert", "backup.failed"],
  "secret": "super_secret_key_2023",
  "failure_count": 0
}
```

### 2Ô∏è‚É£ **–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è**:
- ‚úÖ `anticheat.violation` - –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–π –∏–≥—Ä–æ–∫ —Å speed hack
- ‚úÖ `server.high_cpu` - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ 95.7%
- ‚úÖ `player.joined` - –Ω–æ–≤—ã–π –∏–≥—Ä–æ–∫ –ø–æ–¥–∫–ª—é—á–∏–ª—Å—è
- ‚úÖ `world.saved` - –º–∏—Ä —Å–æ—Ö—Ä–∞–Ω–µ–Ω (847 —á–∞–Ω–∫–æ–≤, 125.7 MB)
- ‚úÖ `security.alert` - –±—Ä—É—Ç-—Ñ–æ—Ä—Å –∞—Ç–∞–∫–∞ –Ω–∞ –∞–¥–º–∏–Ω–∞ (15 –ø–æ–ø—ã—Ç–æ–∫)

### 3Ô∏è‚É£ **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã**:
- üü¢ –í—Å–µ webhook'–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –æ—à–∏–±–æ–∫ (`failure_count: 0`)
- üü¢ –°–æ–±—ã—Ç–∏—è –¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
- üü¢ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π webhook –ø–æ–ª—É—á–∞–µ—Ç –≤—Å–µ —Å–æ–±—ã—Ç–∏—è
- üü¢ –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ webhook'–∏ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç –ø–æ —Ç–∏–ø–∞–º
- üü¢ HMAC –ø–æ–¥–ø–∏—Å–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üîß **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏**

### **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
```bash
# HMAC –ø–æ–¥–ø–∏—Å—å –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ
X-Webhook-Signature: sha256=abc123def456...

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ (Python –ø—Ä–∏–º–µ—Ä)
def verify_signature(payload, secret, signature):
    expected = 'sha256=' + hmac.new(
        secret.encode(), payload.encode(), hashlib.sha256
    ).hexdigest()
    return hmac.compare_digest(expected, signature)
```

### **Retry –ª–æ–≥–∏–∫–∞**
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä—ã –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- ‚è∞ –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞: 1—Å, 2—Å, 3—Å...  
- üìä –°—á–µ—Ç—á–∏–∫ –Ω–µ—É–¥–∞—á –¥–ª—è –∫–∞–∂–¥–æ–≥–æ webhook'–∞
- üéØ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ (0-10)

### **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
- üöÄ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ channels
- üì¶ –ë—É—Ñ–µ—Ä —Å–æ–±—ã—Ç–∏–π –Ω–∞ 1000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- üîÄ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ –≤—Å–µ webhook'–∏
- ‚ö° –ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏

## üåü **–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**

### **Discord —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**
```bash
curl -X POST /api/admin/webhooks \
  -d '{
    "name": "Discord Alerts",
    "url": "https://discord.com/api/webhooks/123/abc",
    "events": ["anticheat.violation", "server.error"],
    "timeout": 10
  }'
```

### **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Grafana**
```bash
curl -X POST /api/admin/webhooks \
  -d '{
    "name": "Grafana Metrics", 
    "url": "https://grafana.company.com/webhook",
    "events": ["server.high_cpu", "server.high_memory"],
    "secret": "monitoring_secret"
  }'
```

### **–ö–∞—Å—Ç–æ–º–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ**
```bash
curl -X POST /api/admin/events/send \
  -d '{
    "event_type": "player.banned",
    "data": {
      "username": "cheater123",
      "reason": "Using X-ray mod",
      "banned_by": "admin", 
      "duration": "permanent"
    }
  }'
```

## üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**

### **–§–∞–π–ª—ã**:
- üìÑ `internal/api/outbound_webhooks.go` - 315 —Å—Ç—Ä–æ–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥–∏–∫–∏
- üìÑ `internal/api/rest_server.go` - +150 —Å—Ç—Ä–æ–∫ API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- üìÑ `examples/webhook-receiver/main.go` - 214 —Å—Ç—Ä–æ–∫ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø—Ä–∏–µ–º–Ω–∏–∫–∞
- üìÑ `examples/rest-api-server/main.go` - +70 —Å—Ç—Ä–æ–∫ —Å–∏–º—É–ª—è—Ü–∏–∏ —Å–æ–±—ã—Ç–∏–π

### **–§—É–Ω–∫—Ü–∏–∏**:
- ‚öôÔ∏è 15+ –º–µ—Ç–æ–¥–æ–≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è webhook'–∞–º–∏
- üîß 8 REST API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- üéØ 19 —Ç–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π
- üß™ 4 —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞

### **–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**:
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–±—ã—Ç–∏–π
- üìù –†—É—á–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ API
- üéõÔ∏è –ü–æ–ª–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ HMAC
- üöÄ –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

## üéØ **–ó–∞–∫–ª—é—á–µ–Ω–∏–µ**

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ **–ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è enterprise-grade —Å–∏—Å—Ç–µ–º–∞ –∏—Å—Ö–æ–¥—è—â–∏—Ö webhook'–æ–≤** –¥–ª—è MMO –∏–≥—Ä–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞:

‚úÖ **–ì–æ—Ç–æ–≤–∞ –∫ production** - —Å retry –ª–æ–≥–∏–∫–æ–π, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º  
‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π  
‚úÖ **–ì–∏–±–∫–∞—è** - –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏, —Ç–∞–π–º–∞—É—Ç—ã, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫  
‚úÖ **–£–¥–æ–±–Ω–∞—è** - –ø–æ–ª–Ω—ã–π REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å  
‚úÖ **–ù–∞–¥–µ–∂–Ω–∞—è** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ  

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å:
- ü§ñ Discord/Telegram –±–æ—Ç–∞–º–∏
- üìä –°–∏—Å—Ç–µ–º–∞–º–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (Grafana, Prometheus)
- üîç –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (ELK Stack, Splunk)
- üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (SIEM —Å–∏—Å—Ç–µ–º—ã)
- üì± –ú–æ–±–∏–ª—å–Ω—ã–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
- üåê –õ—é–±—ã–º–∏ –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ —á–µ—Ä–µ–∑ HTTP

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ò–≥—Ä–æ–≤–æ–π —Å–µ—Ä–≤–µ—Ä —Ç–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–≤–µ–¥–æ–º–ª—è—Ç—å –≤–Ω–µ—à–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –æ –ª—é–±—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏! üöÄ 